imports:
<<<<<<< HEAD
  Merchant: Domain.Types.Merchant
  MerchantOperatingCity: Domain.Types.Merchant.MerchantOperatingCity
=======
  merchant: Domain.Types.Merchant
  merchantOperatingCity: Domain.Types.MerchantOperatingCity
>>>>>>> 2ac75e3b6b (backend/enh/DSL/move-tables-dsl-driver-offer-person-part: CallStatus)
  CallService: Kernel.External.Call.Types

CallStatus:
  tableName: call_status

  fields:
    id : Id CallStatus
    callId : Text
    entityId : Maybe Text
    dtmfNumberUsed : Maybe Text
    status : Kernel.External.Call.Interface.Types.CallStatus
    recordingUrl : Maybe Text
    conversationDuration : Int
    merchantId : Maybe Text
    callService : Maybe CallService
    callError : Maybe Text
<<<<<<< HEAD
    createdAt: UTCTime
=======
    createdAt : UTCTime
>>>>>>> 2ac75e3b6b (backend/enh/DSL/move-tables-dsl-driver-offer-person-part: CallStatus)

  constraints:
    id: PrimaryKey
    callId: SecondaryKey

  queries:
    findById:
      kvFunction: findOneWithKV
      where: id

<<<<<<< HEAD
  extraOperations:
    - EXTRA_QUERY_FILE

  excludedDefaultQueries:
    - create

  sqlType:
    callId: character varying(255)
    recordingUrl: character varying(255)
    status: character varying(255)
    conversationDuration: bigint
    dtmfNumberUsed: character varying(255)
    entityId: character (36)
    merchantId: character (36)
=======
    updateCallStatus:
      kvFunction: updateWithKV
      params: [conversationDuration, recordingUrl, status]
      where: id

    updateCallError:
      kvFunction: updateWithKV
      params: [callError, callService, merchantId]
      where: id

    updateCallStatusWithRideId:
      kvFunction: updateWithKV
      params: [entityId, dtmfNumberUsed, merchantId, callService]
      where: id

  extraOperations:
    - EXTRA_QUERY_FILE

  sqlType:
    callId: character varying (255)
    recordingUrl: character varying (255)
    status: character varying (255)
    conversationDuration: bigint
    dtmfNumberUsed: character varying (255)
    entityId: character varying (36)
    merchantId: character varying (36)
>>>>>>> 2ac75e3b6b (backend/enh/DSL/move-tables-dsl-driver-offer-person-part: CallStatus)

  default:
    entityId: "'UNKNOWN'"

<<<<<<< HEAD
  excludedFields: [merchantOperatingCityId, updatedAt]

=======
  excludedFields: [merchantOperatingCityId, createdAt]

  excludedDefaultQueries:
    - create
>>>>>>> 2ac75e3b6b (backend/enh/DSL/move-tables-dsl-driver-offer-person-part: CallStatus)
